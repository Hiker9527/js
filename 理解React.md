### 理解React

#### React是什么
Facebook认为MVC无法满足他们的扩展需求，由于他们非常巨大的代码库和庞大的组织，使得MVC很快变得非常复复杂，每当需要添加一项新的功能或特性时，系统的复杂度就成级数增长，致使代码变得脆弱和不可预测，结果导致他们的MVC正在土崩瓦解。认为MVC不适合大规模应用，当系统中有很多的模型和相应的视图时，其复杂度就会迅速扩大，非常难以理解和调试，特别是模型和视图间可能存在的双向数据流动。

但是React并不是一个完整的MVC框架。React是一个声明式的，高效的，可伸缩的用于构建用户界面的 JavaScript 库。从这点上来理解，React专注于提供提供清晰的、简洁的view层的解决方案。

##### 声明式

React强调自己是声明式的，那么我们就要先搞懂什么是声明式编程，它与命令式编程有什么区别。

首先来说命令式编程，命令式编程解决的是做什么的问题。我们用一条条的指令告诉计算机去做什么。我们可以想象刚开始用jquery写页面的时候，操作DOM就是典型的命令式的。

而声明式编程，是模仿人类的逻辑思考方式。声明式编程的本质是lambda 演算。当我们要操作数组的每个元素返回一个新的数组，如果用命令式编程的方式，首先我们需要一个新的数组来存放返回的新数组，然后遍历原来的数组，把每个操作后的元素放到新的数组中。如果是按人的思考方式，则是构建一个规则，数组按定好的规则进行加工就会得到我们想要的结果。

React采用声明式的方式，减少了代码的重复，同时让代码变的可预测。

##### 高效的DOM渲染

现代的web已经不仅仅是用来展现简单的页面了，更多的场景和更好的用户体验会引起DOM频繁的更新。而DOM的频繁渲染会降低页面的性能。React创新性的提出了虚拟DOM（Virtual DOM）很好的解决了这个问题。虚拟DOM是用JavaScript对来来抽象真实的DOM树，每一个DOM节点和层级关系都会映射到j这个avascript对象中。

在React中，我们没有必要直接操作DOM（虽然也可以，但是尽量不要这么干），当需要更新一个DOM的时候，React会重新生成一个virtual DOM树，然后通过对比前后两颗虚拟，找出差异部分，去更新这些虚拟节点对应的真实DOM节点。同时React还采用了批量更新策略进一步提高DOM更新性能。React会将某些周期中连续的DOM更新合并到一起，在周期结束的时候批量更新到真实DOM树中。

##### 可伸缩

由于React只是一个构建界面(View层)的库，我们可以只用React搭建一个项目，也可以很方便的把它嫁接到别的mvc框架中。可以把它插入到已经存在项目中，也可以用来新建一个项目。使用起来也是非常灵活的。

#### 为什么用React

上面我们说了React简单高效，但是并不是说React适合任何的场合。没有最好的框架，只有最适合的框架。所以要根据当前项目的实际需求来评估是否值得选用React。

##### 组件化
在React中，将页面看作是由一个个组件组合而成的。我们可以把一部分的html封装成一个组件，然后把组件像html标签一样插入到页面中。

组件化带来的一个很大的好处就是可以大大的提高了代码的复用率。我们可以把一个或是几个页面中一些重复的部分提取到一个组件中，当需要的时候组装到的页面中。前面讲过React是声明式，这就保证了这些组件在不同地方的一致性，相同的输入一定会得到相同的渲染页面。

除了代码复用，也使得前端开发在标准化的道路上又向前了一步。

##### 单向数据流更清晰
React强调数据始终是单向流动的，数据通过props向子组件流动。这种做法对于写惯jquery的人来说开始是非常难接收的，至少对我来说是这样的。React是组件化的，数据又是单向流动，但是我们在开发过程中不可以避免要跨组件修改数据。但是React并没有暴露类似的方法，如果在简单的应用中我们可以用回调函数来解决，在复杂的应用中就需要借助状态管理工具了。

单向数据流这么不好，React又为什么会如此设计？在复杂的应用中，会有非常多的状态，一不小心就会造成数据的混乱。所以数据流动的清晰就显得非常重要。而单向数据流就保证了数据始终是自上而下流动和数据的可追溯。React更适合复杂的应用，在简单的应用中可以使用更轻量的数据双向绑定的Vue框架。


##### 繁荣的生态

React优秀的设计吸引了大批的追随者。这些人在使用React中贡献了很多的工具和解决方案以及博客、教程，非常典型的就是Redux，几乎成为React项目的标配。这使得我们在学习和使用React的过程中更快更深入。
