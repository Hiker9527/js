### 什么是函数式编程


#### 几个概念
首先我们要认清一个概念：函数也是“一等公民”。这里实际上我们是想说函数其实和别的对象一样，所以我们可以像对待任何其他数据类型一样对待他们，比如把他们存在数组里，当做参数传递，赋值给变量...等等。

在介绍纯函数的好处之前，我们要清楚什么是**纯函数**。
> 纯函数是这样一种函数，即相同的输入，永远得到相同的输出，而且没有任何可观察的副作用。

看一个例子：
```
// 不纯的
var minimum = 21;

var checkAge = function(age) {
  return age >= minimum;
};


// 纯的
var checkAge = function(age) {
  var minimum = 21;
  return age >= minimum;
};
```
在不纯的版本中，`checkAge` 的结果将取决于 `minimum` 这个可变变量的值。而`minimum`可以看成一个系统状态。如果我们改变`minimum`的值，就会引起`checkAge`执行的结果不一致。

使用纯函数的版本中，`minimum`是函数内部的变量，我们无法通过外部手段影响函数的表，状态不会发生改变。


纯函数中会努力避免副作用的发生，那么副作用又是什么：
> 副作用是在计算结果的过程中，系统状态的一种变化，或者与外部世界进行的可观察的交互。

副作用包含很多，比如常见的有：
+ 更改文件系统
+ 往数据库插入记录
+ 发送一个 http 请求
+ 可变数据
+ 打印/log
+ 获取用户输入
+ DOM 查询
+ 访问系统状态
+ ...
概括说来，只要跟函数外部环境发生的交互就都是副作用。函数式编程的哲学就是假定副作用是造成不正当行为的主要原因。

#### 纯函数的好处
* 可缓存性（Cacheable）
* 可移植性／自文档化（Portable / Self-Documenting）
* 可测试性（Testable）
* 合理性（Reasonable）
* 并行代码

### 函数的柯里化（curry）和组合
#### 函数的柯里化(curry)
柯里化的概念很简单：只传递给函数一部分参数来调用它，让它返回一个函数去处理剩下的参数。我们可以一次性的调用，也可以每次只传一个参数。
```
var add = function(x) {
  return function(y) {
    return x + y;
  };
};

var increment = add(1);
var addTen = add(10);

increment(2);
// 3

addTen(2);
// 12
```
我们先定义一个`add`函数，接收一个参数并返回一个新的函数。调用`add`之后返回的函数通过闭包方式记住了`add`传入的第一个参数。再次调用的时候就会对两次传入的做运算然后返回结果。通过传递部分参数就能得到一个记住了这些参数的新函数。
#### 函数的组合
一个简单的组合(compose)的实现：
```
var compose = function(f, g) {
    return function(x) {
        return f(g(x));
    }
}
```
`f`和`g`都是函数，`x`是在它们之间通过“管道”传输的值。上面`compose`的实现中，`g`是先与`f`执行的，所以在组合中，数据都是从右到左流动。

